(this["webpackJsonpweather-widget"]=this["webpackJsonpweather-widget"]||[]).push([[0],{20:function(n,t,e){},24:function(n,t,e){"use strict";e.r(t);var i,a,c,o,r,d,l,s,u=e(0),b=e.n(u),m=e(11),j=e.n(m),v=(e(20),e(5)),h=e(2),g=e(9),p=e(3),f=e(4),O=e(15),x=e(1),w=f.a.div(i||(i=Object(p.a)(["\n  margin: 1vmin;\n  font-family: Helvetica, sans-serif;\n  font-size: 3vmin;\n  padding: 1vmin;\n  input {\n    background-color: bisque;\n    border-radius: 1vmin;\n    font-size: 3vmin;\n    margin: 1vmin;\n  }\n  input#submit {\n    background-color: goldenrod;\n    border-radius: 1vmin;\n    font-weight: bold;\n    font-size: 3vmin;\n  }\n  label {\n    text-shadow: 0 2px 2px darkred;\n  }\n"]))),y=function(n){var t=n.id,e=n.label,i=Object(O.a)(n,["id","label"]);return Object(x.jsx)(w,{children:Object(x.jsxs)("label",{htmlFor:t,children:[e,Object(x.jsx)("input",Object(h.a)({id:t},i))]})})},k=f.a.form(a||(a=Object(p.a)(["\n  min-height: 30vmin;\n  min-width: 75vw;\n  background-color: navy;\n  border-radius: 2vmin 2vmin 0 0;\n  color: bisque;\n"]))),C=function(n){var t=n.onChange,e=n.onSubmit,i=n.value;return Object(x.jsxs)(k,{onSubmit:e,children:[Object(x.jsx)(y,{onChange:t,id:"city","data-id":"city",label:"City: ",type:"text",placeholder:"Insert the city",value:i.city}),Object(x.jsx)(y,{id:"submit",type:"submit",value:"Submit"}),Object(x.jsx)(y,{checked:"metric"===i.units,"data-id":"units",id:"metric",label:"Metric",type:"radio",value:"metric",name:"units",onChange:t}),Object(x.jsx)(y,{"data-id":"units",id:"imperial",label:"Imperial",type:"radio",value:"imperial",name:"units",onChange:t})]})},z="847c4dda05c3a22fb02d777556a5510f",S=function(n){var t=new Date(1e3*n);return"".concat(q(t.getHours()),":").concat(q(t.getMinutes()))},q=function(n){return n<10?"0".concat(n):"".concat(n)},F=e.p+"static/media/clouds.a90bcbf0.jpg",P=f.a.div(c||(c=Object(p.a)(["\n  background-image: url(",");\n  background-size: cover;\n  background-position: bottom;\n  border-radius: 0 0 2vmin 2vmin;\n  .city {\n    transition: 0.4s ease-out;\n  }\n  color: black;\n  font-size: 3vmin;\n  font-weight: 900;\n  .icon {\n    min-width: 4vmax;\n    max-width: 10vmax;\n  }\n  .icon:hover {\n    transform: scale(1.75);\n  }\n  min-height: 65vmin;\n  min-width: 75vw;\n  padding-top: 2vmin;\n  ul {\n    list-style-type: none;\n    padding-left: 0;\n  }\n  text-shadow: 0 2px 2px white;\n  .temperature {\n    color: #0f0774;\n    font-size: 4vmin;\n    font-weight: bolder;\n  }\n  .temperature-warm {\n    color: #550808;\n    font-size: 4vmin;\n    font-weight: bolder;\n  }\n  .weather-data-box {\n    position: relative;\n    background-color: rgba(255, 255, 255, 0.5);\n  }\n"])),F),D=function(n){var t,e,i,a,c,o,r,d,l,s=n.query,u=n.weatherData;return Object(x.jsxs)(P,{children:[Object(x.jsx)("h2",{className:"city",children:u.name||"current location"}),Object(x.jsx)("div",{className:"weather-data-box",children:Object(x.jsxs)("ul",{children:[Object(x.jsxs)("li",{className:"undefined"!==typeof(null===u||void 0===u||null===(t=u.main)||void 0===t?void 0:t.temp)&&(null===u||void 0===u||null===(e=u.main)||void 0===e?void 0:e.temp)>15?"temperature-warm":"temperature",children:[Math.floor(null===u||void 0===u||null===(i=u.main)||void 0===i?void 0:i.temp),"metric"===s.queriedUnits?" \xb0C":" \xb0F"]}),Object(x.jsx)("img",{src:"http://openweathermap.org/img/w/".concat(null===u||void 0===u||null===(a=u.weather[0])||void 0===a?void 0:a.icon,".png"),alt:"".concat(null===u||void 0===u||null===(c=u.weather[0])||void 0===c?void 0:c.description," in ").concat(s.city),className:"icon"}),Object(x.jsx)("li",{children:"Pressure: ".concat(null===u||void 0===u||null===(o=u.main)||void 0===o?void 0:o.pressure," hPa")}),Object(x.jsx)("li",{children:"Humidity: ".concat(null===u||void 0===u||null===(r=u.main)||void 0===r?void 0:r.humidity,"%")}),Object(x.jsx)("li",{children:"Sunrise: ".concat(S(null===u||void 0===u||null===(d=u.sys)||void 0===d?void 0:d.sunrise))}),Object(x.jsx)("li",{children:"Sunset: ".concat(S(null===u||void 0===u||null===(l=u.sys)||void 0===l?void 0:l.sunset))})]})})]})},U=f.a.div(o||(o=Object(p.a)([""]))),H=function(n){return Object(x.jsx)(U,{children:Object(x.jsx)(D,Object(h.a)({},n))})},I=e.p+"static/media/sun.42ddd9ac.svg",M=f.a.div(r||(r=Object(p.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: blue;\n  transition: opacity 0.2s, z-index 0.2s;\n  opacity: ",";\n  z-index: ",";\n"])),(function(n){return n.isOn?1:0}),(function(n){return n.isOn?99:-1})),N=Object(f.b)(d||(d=Object(p.a)(["\nfrom {\n  transform: rotate(0deg);\n}\n\nto {\n  transform: rotate(360deg);\n}\n"]))),E=f.a.div(l||(l=Object(p.a)(["\n  animation: "," 1s infinite;\n  width: 25vmin;\n  height: 25vmin;\n  background-image: url(",");\n  background-position: center;\n  background-size: contain;\n"])),N,I),B=function(n){return Object(x.jsx)(M,Object(h.a)(Object(h.a)({},n),{},{children:Object(x.jsx)(E,{})}))},J=f.a.div(s||(s=Object(p.a)(["\n  position: relative;\n  align-items: center;\n  background: linear-gradient(navy 40%, lightblue);\n  color: white;\n  display: flex;\n  flex-direction: column;\n  font-family: Helvetica, sans-serif;\n  justify-content: center;\n  min-height: 120vh;\n  padding-top: 0;\n  text-align: center;\n"])));var L=function(){var n=Object(u.useState)({city:"",units:"metric",queriedUnits:""}),t=Object(g.a)(n,2),e=t[0],i=t[1],a=Object(u.useState)({error:"",loading:!1,data:null}),c=Object(g.a)(a,2),o=c[0],r=c[1],d=function(){var n;null===(n=navigator.geolocation)||void 0===n||n.getCurrentPosition((function(n){var t=n.coords;l("https://api.openweathermap.org/data/2.5/weather?lat=".concat(t.latitude,"&lon=").concat(t.longitude,"&appid=").concat(z,"&units=").concat(e.units))}),(function(){return r(Object(h.a)(Object(h.a)({},o),{},{loading:!1,error:"Unable to get user location. Please search manually."}))}))};Object(u.useEffect)(d,[]);var l=function(n){fetch(n).then((function(n){if(!n.ok)throw new Error("Unable to fetch data");return n.json()})).then((function(n){r(Object(h.a)(Object(h.a)({},o),{},{data:n,loading:!1})),i(Object(h.a)(Object(h.a)({},e),{},{queriedUnits:e.units}))})).catch((function(n){r(Object(h.a)(Object(h.a)({},o),{},{error:n,loading:!1}))}))};return Object(x.jsxs)(J,{children:[Object(x.jsx)(B,{isOn:o.loading}),Object(x.jsx)(C,{onChange:function(n){i(Object(h.a)(Object(h.a)({},e),{},Object(v.a)({},"".concat(n.target.dataset.id),n.target.value)))},onSubmit:function(n){n.preventDefault(),r(Object(h.a)(Object(h.a)({},o),{},{loading:!0})),e.city?l("https://api.openweathermap.org/data/2.5/weather?q=".concat(e.city,"&appid=").concat(z,"&units=").concat(e.units)):d()},value:e}),o.data&&Object(x.jsx)(H,{weatherData:o.data,query:e})]})},T=function(n){n&&n instanceof Function&&e.e(3).then(e.bind(null,25)).then((function(t){var e=t.getCLS,i=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;e(n),i(n),a(n),c(n),o(n)}))};j.a.render(Object(x.jsx)(b.a.StrictMode,{children:Object(x.jsx)(L,{})}),document.getElementById("root")),T()}},[[24,1,2]]]);
//# sourceMappingURL=main.66a51d04.chunk.js.map