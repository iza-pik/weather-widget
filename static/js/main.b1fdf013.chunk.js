(this["webpackJsonpweather-widget"]=this["webpackJsonpweather-widget"]||[]).push([[0],{20:function(n,t,e){},24:function(n,t,e){"use strict";e.r(t);var i,a,o,c,r,d,l,s,u,b,h,m,j,v=e(1),f=e.n(v),g=e(11),p=e.n(g),O=(e(20),e(6)),x=e(4),w=e(5),y=e(2),k=e(3),C=e(15),S=e(0),q=k.a.div(i||(i=Object(y.a)(["\n  margin: 1vmin;\n  font-family: Helvetica, sans-serif;\n  font-size: 3vmin;\n  padding: 1vmin;\n  input {\n    background-color: bisque;\n    border-radius: 1vmin;\n    font-size: 3vmin;\n    margin: 1vmin;\n    padding: 0.75vmin;\n  }\n  input#submit {\n    background-color: goldenrod;\n    border-radius: 1vmin;\n    font-weight: bold;\n    font-size: 3vmin;\n  }\n  label {\n    text-shadow: 0 2px 2px darkred;\n  }\n"]))),z=function(n){var t=n.id,e=n.label,i=Object(C.a)(n,["id","label"]);return Object(S.jsx)(q,{children:Object(S.jsxs)("label",{htmlFor:t,children:[e,Object(S.jsx)("input",Object(x.a)({id:t},i))]})})},D=k.a.div(a||(a=Object(y.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: linear-gradient(navy 40%, lightblue);\n  transition: opacity 0.2s, z-index 0.2s;\n  opacity: ",";\n  z-index: ",";\n"])),(function(n){return n.isOn?1:0}),(function(n){return n.isOn?99:-1})),F=function(n){return Object(S.jsx)(D,Object(x.a)({},n))},U=k.a.button(o||(o=Object(y.a)(["\n  background-color: navy;\n  border: none;\n  &:hover {\n    transform: scale(1.75);\n  }\n  font-size: 5vmin;\n  margin-right: 3vw;\n  margin-top: 5vh;\n  min-height: 10vmin;\n  min-width: 10vmin;\n  position: fixed;\n  right: 0;\n  top: 0;\n"]))),N=k.a.form(c||(c=Object(y.a)(["\n  min-height: 30vmin;\n  min-width: 75vw;\n  background-color: navy;\n  border-radius: 2vmin;\n  color: bisque;\n"]))),P=function(n){var t=n.onChange,e=n.onSubmit,i=n.value,a=Object(v.useState)(!1),o=Object(w.a)(a,2),c=o[0],r=o[1],d=function(){return r(!c)};return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(U,{className:"icon",onClick:d,children:"\ud83d\udd0d"}),Object(S.jsx)(F,{isOn:c,children:Object(S.jsxs)(N,{onSubmit:function(n){d(),e(n)},children:[Object(S.jsx)(z,{onChange:t,id:"city","data-id":"city",label:"City: ",type:"text",placeholder:"Insert the city",value:i.city}),Object(S.jsx)(z,{id:"submit",type:"submit",value:"Submit"}),Object(S.jsx)(z,{checked:"metric"===i.units,"data-id":"units",id:"metric",label:"Metric",type:"radio",value:"metric",name:"units",onChange:t}),Object(S.jsx)(z,{"data-id":"units",id:"imperial",label:"Imperial",type:"radio",value:"imperial",name:"units",onChange:t})]})})]})},E="847c4dda05c3a22fb02d777556a5510f",M=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],H=function(n){var t=new Date(1e3*n);return"".concat(I(t.getHours()),":").concat(I(t.getMinutes()))},I=function(n){return n<10?"0".concat(n):"".concat(n)},T=e.p+"static/media/clouds.a90bcbf0.jpg",B=k.a.div(r||(r=Object(y.a)(["\n  background-image: url(",");\n  background-size: cover;\n  background-position: bottom;\n  border-radius: 2vmin;\n  .city {\n    transition: all 0.4s ease-out;\n  }\n  color: black;\n  font-size: 3vmin;\n  font-weight: 900;\n  .icon {\n    min-width: 4vmax;\n    max-width: 10vmax;\n  }\n  .icon:hover {\n    transform: scale(1.75);\n  }\n  min-height: 50vmin;\n  min-width: 75vw;\n  padding-top: 2vmin;\n  ul {\n    list-style-type: none;\n    padding-left: 0;\n  }\n  text-shadow: 0 2px 2px white;\n  .temperature {\n    color: #0f0774;\n    font-size: 4vmin;\n    font-weight: bolder;\n  }\n  .temperature-warm {\n    color: #550808;\n    font-size: 4vmin;\n    font-weight: bolder;\n  }\n  .weather-data-box {\n    position: relative;\n    background-color: rgba(255, 255, 255, 0.5);\n  }\n"])),T),J=function(n){var t,e,i=n.query,a=n.weatherData,o="metric"===i.queriedUnits;return Object(S.jsxs)(B,{children:[Object(S.jsx)("h2",{className:"city",children:i.city||"Current location"}),Object(S.jsx)("div",{className:"weather-data-box",children:Object(S.jsxs)("ul",{children:[Object(S.jsxs)("li",{className:"undefined"!==typeof(null===a||void 0===a?void 0:a.temp)&&(null===a||void 0===a?void 0:a.temp)>(o?15:60)?"temperature-warm":"temperature",children:[Math.floor(null===a||void 0===a?void 0:a.temp),o?" \xb0C":" \xb0F"]}),Object(S.jsx)("img",{src:"http://openweathermap.org/img/w/".concat(null===a||void 0===a||null===(t=a.weather[0])||void 0===t?void 0:t.icon,".png"),alt:"".concat(null===a||void 0===a||null===(e=a.weather[0])||void 0===e?void 0:e.description," in ").concat(i.city),className:"icon"}),Object(S.jsx)("li",{children:"Pressure: ".concat(null===a||void 0===a?void 0:a.pressure," hPa")}),Object(S.jsx)("li",{children:"Humidity: ".concat(null===a||void 0===a?void 0:a.humidity,"%")}),Object(S.jsx)("li",{children:"Sunrise: ".concat(H(null===a||void 0===a?void 0:a.sunrise))}),Object(S.jsx)("li",{children:"Sunset: ".concat(H(null===a||void 0===a?void 0:a.sunset))})]})})]})},L=k.a.div(d||(d=Object(y.a)([""]))),W=function(n){return Object(S.jsx)(L,{children:Object(S.jsx)(J,Object(x.a)({},n))})},A=e.p+"static/media/sun.42ddd9ac.svg",G=Object(k.b)(l||(l=Object(y.a)(["\nfrom {\n  transform: rotate(0deg);\n}\n\nto {\n  transform: rotate(360deg);\n}\n"]))),K=k.a.div(s||(s=Object(y.a)(["\n  animation: "," 1s infinite;\n  width: 25vmin;\n  height: 25vmin;\n  background-image: url(",");\n  background-position: center;\n  background-size: contain;\n"])),G,A),Q=function(n){return Object(S.jsx)(F,Object(x.a)(Object(x.a)({},n),{},{children:Object(S.jsx)(K,{})}))},R=k.a.div(u||(u=Object(y.a)(["\n  background-color: bisque;\n  transition: background-color 0.3s linear;\n  border-radius: 2vmin;\n  color: black;\n  font-size: 3vmin;\n  font-weight: 900;\n  cursor: pointer;\n  &:hover {\n    background-color: goldenrod;\n    transition: background-color 0.1s linear;\n  }\n  .icon {\n    min-width: 3vmax;\n    max-width: 8vmax;\n  }\n  .icon:hover {\n    transform: scale(1.75);\n  }\n  margin-top: 2vmin;\n  min-height: 28vmin;\n  min-width: 10vw;\n  ul {\n    list-style-type: none;\n    padding-left: 0;\n  }\n  text-shadow: 0 2px 2px white;\n  .temperature {\n    color: #0f0774;\n    font-size: 3vmin;\n    font-weight: bolder;\n  }\n  .temperature-warm {\n    color: #550808;\n    font-size: 3vmin;\n    font-weight: bolder;\n  }\n  .weather-data-box {\n    position: relative;\n    background-color: rgba(255, 255, 255, 0.5);\n  }\n"]))),V=function(n){var t,e,i=n.forecastData,a=n.forecastDay,o=n.onClick,c=n.query,r="metric"===c.queriedUnits;return Object(S.jsxs)(R,{role:"button","data-day-index":a.index,onClick:o,children:[Object(S.jsx)("h4",{children:a.name}),Object(S.jsx)("div",{className:"weather-data-box",children:Object(S.jsxs)("ul",{children:[Object(S.jsxs)("li",{className:"undefined"!==typeof(null===i||void 0===i?void 0:i.temp)&&(null===i||void 0===i?void 0:i.temp.day)>(r?15:60)?"temperature-warm":"temperature",children:[Math.floor(null===i||void 0===i?void 0:i.temp.day),r?" \xb0C":" \xb0F"]}),Object(S.jsx)("li",{children:Object(S.jsx)("img",{src:"http://openweathermap.org/img/w/".concat(null===i||void 0===i||null===(t=i.weather[0])||void 0===t?void 0:t.icon,".png"),alt:"".concat(null===i||void 0===i||null===(e=i.weather[0])||void 0===e?void 0:e.description," in ").concat(c.city),className:"icon"})})]})})]})},X=k.a.div(b||(b=Object(y.a)(["\n  background-color: bisque;\n  border-radius: 2vmin;\n  color: black;\n  font-size: 2.5vmin;\n  font-weight: 700;\n  margin-top: 2vmin;\n  min-height: 10vmin;\n  min-width: 73vw;\n  padding: 2vmin;\n  h3 {\n    display: flex;\n    position: fixed;\n  }\n"]))),Y=function(n){var t=n.details;return Object(S.jsxs)(X,{children:[Object(S.jsx)("h3",{children:"More details... "}),Object(S.jsx)("div",{children:"Pressure: ".concat(null===t||void 0===t?void 0:t.pressure," hPa")}),Object(S.jsx)("div",{children:"Humidity: ".concat(null===t||void 0===t?void 0:t.humidity,"%")}),Object(S.jsx)("div",{children:"Sunrise: ".concat(H(null===t||void 0===t?void 0:t.sunrise))}),Object(S.jsx)("div",{children:"Sunset: ".concat(H(null===t||void 0===t?void 0:t.sunset))})]})},Z=k.a.div(h||(h=Object(y.a)(["\n  display: flex;\n  justify-content: space-between;\n  min-width: 75vw;\n  overflow: hidden;\n  max-height: ",";\n  transition: max-height 0.2s ease-in-out;\n"])),(function(n){return n.isExpanded?"100vh":"0"})),$=k.a.div(m||(m=Object(y.a)(["\n  background-color: goldenrod;\n  border: 2px solid rgb(118, 118, 118);\n  border-radius: 1vmin;\n  color: black;\n  font-weight: bold;\n  margin: 1vmin;\n  font-family: Helvetica, sans-serif;\n  font-size: 3vmin;\n  padding: 0.75vmin;\n"]))),_=function(n){var t=n.query,e=n.weeklyForecastData,i=Object(v.useState)(null),a=Object(w.a)(i,2),o=a[0],c=a[1],r=Object(v.useState)(!1),d=Object(w.a)(r,2),l=d[0],s=d[1],u=function(n){n.stopPropagation();var t=n.currentTarget.dataset.dayIndex;c(t!==o?t:null)},b=(new Date).getDay()+1;return Object(S.jsxs)(S.Fragment,{children:[!l&&Object(S.jsx)($,{onClick:function(){return s(!l)},children:"Show full forecast..."}),Object(S.jsx)(Z,{isExpanded:l,children:e.slice(1).map((function(n,e){var i=M[(b+e)%7];return Object(S.jsx)(V,{forecastDay:{name:i,index:e+1},forecastData:n,onClick:u,query:t},i)}))}),null!==o&&Object(S.jsx)(Y,{details:e[Number(o)]})]})},nn=k.a.div(j||(j=Object(y.a)(["\n  display: flex;\n  position: relative;\n  align-items: center;\n  background: linear-gradient(navy 40%, lightblue);\n  color: white;\n  display: flex;\n  flex-direction: column;\n  font-family: Helvetica, sans-serif;\n  justify-content: center;\n  min-height: 100vh;\n  padding-top: 0;\n  text-align: center;\n"])));var tn=function(){var n=Object(v.useState)({city:"",units:"metric",queriedUnits:"metric"}),t=Object(w.a)(n,2),e=t[0],i=t[1],a=Object(v.useState)({error:"",loading:!1,data:null}),o=Object(w.a)(a,2),c=o[0],r=o[1],d=function(){var n;null===(n=navigator.geolocation)||void 0===n||n.getCurrentPosition((function(n){var t=n.coords;fetch("https://api.openweathermap.org/data/2.5/weather?lat=".concat(t.latitude,"&lon=").concat(t.longitude,"&appid=").concat(E,"&units=").concat(e.units)).then((function(n){if(!n.ok)throw new Error("Unable to fetch data");return n.json()})).then((function(n){l("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(t.latitude,"&lon=").concat(t.longitude,"&appid=").concat(E,"&units=").concat(e.units)),i(Object(x.a)(Object(x.a)({},e),{},{city:n.name,queriedUnits:e.units}))}))}),(function(){return r({data:null,loading:!1,error:"Unable to get user location. Please search manually."})}))};Object(v.useEffect)(d,[]);var l=function(n){fetch(n).then((function(n){if(!n.ok)throw new Error("Unable to fetch data");return n.json()})).then((function(n){r(Object(x.a)(Object(x.a)({},c),{},{data:n,loading:!1,error:""}))})).catch((function(){r({data:null,error:"Unable to fetch information for ".concat(e.city),loading:!1})}))};return Object(S.jsxs)(nn,{children:[Object(S.jsx)(Q,{isOn:c.loading}),Object(S.jsx)(P,{onChange:function(n){i(Object(x.a)(Object(x.a)({},e),{},Object(O.a)({},"".concat(n.target.dataset.id),n.target.value)))},onSubmit:function(n){n.preventDefault(),r(Object(x.a)(Object(x.a)({},c),{},{loading:!0})),e.city?fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(e.city,"&appid=").concat(E,"&units=").concat(e.units)).then((function(n){if(!n.ok)throw new Error("Unable to fetch city location");return n.json()})).then((function(n){var t=n.coord;i(Object(x.a)(Object(x.a)({},e),{},{queriedUnits:e.units})),l("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(t.lat,"&lon=").concat(t.lon,"&appid=").concat(E,"&units=").concat(e.units))})):d()},value:e}),c.data&&Object(S.jsx)(W,{weatherData:c.data.current,query:e}),c.data&&Object(S.jsx)(_,{weeklyForecastData:c.data.daily,query:e}),c.error&&Object(S.jsx)("h2",{children:c.error})]})},en=function(n){n&&n instanceof Function&&e.e(3).then(e.bind(null,25)).then((function(t){var e=t.getCLS,i=t.getFID,a=t.getFCP,o=t.getLCP,c=t.getTTFB;e(n),i(n),a(n),o(n),c(n)}))};p.a.render(Object(S.jsx)(f.a.StrictMode,{children:Object(S.jsx)(tn,{})}),document.getElementById("root")),en()}},[[24,1,2]]]);
//# sourceMappingURL=main.b1fdf013.chunk.js.map