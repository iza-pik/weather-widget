(this["webpackJsonpweather-widget"]=this["webpackJsonpweather-widget"]||[]).push([[0],{20:function(n,t,e){},24:function(n,t,e){"use strict";e.r(t);var i,a,c,o,r,l=e(0),d=e.n(l),u=e(11),s=e.n(u),b=(e(20),e(5)),j=e(2),h=e(9),v=e(3),m=e(4),g=e(15),O=e(1),p=m.a.div(i||(i=Object(v.a)(["\n  margin: 1vmin;\n  padding: 1vmin;\n  input#text {\n    background-color: bisque;\n    border-radius: 1vmin;\n    font-size: 3vmin;\n    margin: 1vmin;\n  }\n  input#submit {\n    background-color: darksalmon;\n    border: solid bisque;\n    border-radius: 1vmin;\n    font-weight: bold;\n    font-size: 3vmin;\n  }\n  label {\n    padding: 3vmin; //???\n  }\n"]))),f=function(n){var t=n.id,e=n.label,i=Object(g.a)(n,["id","label"]);return Object(O.jsx)(p,{children:Object(O.jsxs)("label",{htmlFor:t,children:[e,Object(O.jsx)("input",Object(j.a)({id:t},i))]})})},x=m.a.form(a||(a=Object(v.a)(["\n  min-height: 50vh;\n  background-color: white;\n  border-radius: 2vmin;\n  box-shadow: 0 0 5vmin 5vmin white;\n  color: navy;\n"]))),y=function(n){var t=n.onChange,e=n.onSubmit,i=n.value;return Object(O.jsxs)(x,{onSubmit:e,children:[Object(O.jsx)(f,{onChange:t,id:"city","data-id":"city",label:"City: ",type:"text",placeholder:"Insert the city - empty for current location",value:i.city}),Object(O.jsx)(f,{id:"submit",type:"submit",value:"Submit"}),Object(O.jsx)(f,{checked:"metric"===i.units,"data-id":"units",id:"metric",label:"Metric",type:"radio",value:"metric",name:"units",onChange:t}),Object(O.jsx)(f,{"data-id":"units",id:"imperial",label:"Imperial",type:"radio",value:"imperial",name:"units",onChange:t})]})},w="847c4dda05c3a22fb02d777556a5510f",k=function(n){var t=new Date(1e3*n);return"".concat(C(t.getHours()),":").concat(C(t.getMinutes()))},C=function(n){return n<10?"0".concat(n):"".concat(n)},S=e.p+"static/media/clouds.a90bcbf0.jpg",q=m.a.div(c||(c=Object(v.a)(["\n  background-image: url(",");\n  background-size: cover;\n  background-position: bottom;\n  border-radius: 2vmin;\n  color: black;\n  font-weight: 900;\n  min-height: 50vh;\n  ul {\n    list-style-type: none;\n  }\n  text-shadow: 0 0 2vmin white;\n  transition: 0.4s ease-out;\n"])),S),F=function(n){var t,e,i,a,c,o,r,l=n.query,d=n.weatherData;return Object(O.jsxs)(q,{children:[Object(O.jsxs)("h2",{children:["Weather in ",d.name||"current location"]}),Object(O.jsxs)("ul",{children:[Object(O.jsxs)("li",{children:[Math.floor(null===d||void 0===d||null===(t=d.main)||void 0===t?void 0:t.temp),"metric"===l.queriedUnits?" \xb0C":" \xb0F"]}),Object(O.jsx)("img",{src:"http://openweathermap.org/img/w/".concat(null===d||void 0===d||null===(e=d.weather[0])||void 0===e?void 0:e.icon,".png"),alt:"".concat(null===d||void 0===d||null===(i=d.weather[0])||void 0===i?void 0:i.description," in ").concat(l.city)}),Object(O.jsx)("li",{children:"".concat(null===d||void 0===d||null===(a=d.main)||void 0===a?void 0:a.pressure," hPa")}),Object(O.jsx)("li",{children:"Humidity: ".concat(null===d||void 0===d||null===(c=d.main)||void 0===c?void 0:c.humidity,"%")}),Object(O.jsx)("li",{children:"Sunrise: ".concat(k(null===d||void 0===d||null===(o=d.sys)||void 0===o?void 0:o.sunrise))}),Object(O.jsx)("li",{children:"Sunset: ".concat(k(null===d||void 0===d||null===(r=d.sys)||void 0===r?void 0:r.sunset))})]})]})},D=m.a.div(o||(o=Object(v.a)([""]))),P=function(n){return Object(O.jsx)(D,{children:Object(O.jsx)(F,Object(j.a)({},n))})},U=m.a.div(r||(r=Object(v.a)(["\n  align-items: center;\n  background-color: navy;\n  color: white;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  min-height: 100vh;\n  padding-top: 0;\n  text-align: center;\n"])));var I=function(){var n=Object(l.useState)({city:"",units:"metric",queriedUnits:""}),t=Object(h.a)(n,2),e=t[0],i=t[1],a=Object(l.useState)({error:"",loading:!1,data:null}),c=Object(h.a)(a,2),o=c[0],r=c[1],d=function(){var n;null===(n=navigator.geolocation)||void 0===n||n.getCurrentPosition((function(n){var t=n.coords;u("https://api.openweathermap.org/data/2.5/weather?lat=".concat(t.latitude,"&lon=").concat(t.longitude,"&appid=").concat(w,"&units=").concat(e.units))}),(function(){return r(Object(j.a)(Object(j.a)({},o),{},{loading:!1,error:"Unable to get user location. Please search manually."}))}))};Object(l.useEffect)(d,[]);var u=function(n){fetch(n).then((function(n){if(!n.ok)throw new Error("Unable to fetch data");return n.json()})).then((function(n){r(Object(j.a)(Object(j.a)({},o),{},{data:n,loading:!1})),i(Object(j.a)(Object(j.a)({},e),{},{queriedUnits:e.units})),console.log(o.data)})).catch((function(n){r(Object(j.a)(Object(j.a)({},o),{},{error:n,loading:!1}))}))};return Object(O.jsxs)(U,{children:[o.loading&&"Loading...",Object(O.jsx)(y,{onChange:function(n){i(Object(j.a)(Object(j.a)({},e),{},Object(b.a)({},"".concat(n.target.dataset.id),n.target.value)))},onSubmit:function(n){n.preventDefault(),r(Object(j.a)(Object(j.a)({},o),{},{loading:!0})),e.city?u("https://api.openweathermap.org/data/2.5/weather?q=".concat(e.city,"&appid=").concat(w,"&units=").concat(e.units)):d()},value:e}),o.data&&Object(O.jsx)(P,{weatherData:o.data,query:e})]})},M=function(n){n&&n instanceof Function&&e.e(3).then(e.bind(null,25)).then((function(t){var e=t.getCLS,i=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;e(n),i(n),a(n),c(n),o(n)}))};s.a.render(Object(O.jsx)(d.a.StrictMode,{children:Object(O.jsx)(I,{})}),document.getElementById("root")),M()}},[[24,1,2]]]);
//# sourceMappingURL=main.ed398fba.chunk.js.map